# 리액트를 다루는 기술

## 목차
- [리액트 시작](#리액트-시작)  

## 리액트 시작
리액트는 자바스크립트 라이브러리로 사용자 인터페이스를 만드는 데 사용합니다.  
오직 V(View)만 신경 쓰는 라이브러리입니다.  
리액트 프로젝트에서 특정 부분이 어떻게 생길지 정하는 선언체를 컴포넌트(component)라고 합니다.  

**초기 렌더링**  
어떤 UI 관련 프레임워크, 라이브러리를 사용하든지 간에 맨 처음 어떻게 보일지를 정하는 초기 렌더링이 필요합니다.  
리액트에서는 이를 다루는 render 함수가 있습니다. 이 함수는 컴포넌트가 어떻게 생겼는지 정의하는 역할을 합니다. 뷰가 어떻게 생겼고 어떻게 작동하는지에 대한 정보를 지닌 객체를 반환합니다.  
최상위 컴포넌트의 렌더링 작업이 끝나면 지니고 있는 정보들을 사용하여 HTML 마크업을 만들고, 이를 우리가 정하는 실제 페이지의 DOM 요소 안에 주입합니다.  

**조화 과정**  
리액트에서 뷰를 업데이트할 때는 "업데이트 과정을 거친다"라고 하기보다는 "조화 과정(reconciliation)을 거친다"라고 하는 것이 더 정확한 표현입니다. 컴포넌트에서 데이터에 변화가 있을 때 우리가 보기에는 변화에 따라 뷰가 변형되는 것처럼 보이지만, 사실은 새로운 요소로 갈아 끼우기 때문입니다. 이 작업 또한 render 함수가 맡아서 합니다.  
컴포넌트는 데이터를 업데이트했을 때 단순히 업데이트한 값을 수정하는 것이 아니라, 새로운 데이터를 가지고 render 함수를 또 다시 호출합니다.  
render 함수가 반환하는 결과를 곧바로 DOM에 반영하지 않고, 이전에 render 함수가 만들었던 컴포넌트 정보와 현재 render 함수가 만든 컴포넌트 정보를 비교합니다.  
자바스크립트를 사용하여 두 가지 뷰를 최소한의 연산으로 비교한 후, 둘의 차이를 알아내 최소한의 연산으로 DOM 트리를 업데이트합니다.  

**Virtual DOM**  
Virtual DOM을 사용하면 실제 DOM에 접근하여 조작하는 대신, 이를 추상화한 자바스크립트 객체를 구성하여 사용합니다.  
리액트에서 데이터가 변하여 웹 브라우저에 실제 DOM을 업데이트할 때는 세 가지 절차를 밟습니다.  
1. 데이터를 업데이트하면 전체 UI를 Virtual DOM에 리렌더링합니다.  
2. 이전 Virtual DOM에 있던 내용과 현재 내용을 비교합니다.  
3. 바뀐 부분만 실제 DOM에 적용합니다.  

**번들러<sup>bundler</sup>**  
번들러 도구를 사용하면 import로 모듈을 불러왔을 때 불러온 모듈을 모두 합쳐서 하나의 파일을 생성해 줍니다. 또 최적화 과정에서 여러 개의 파일로 분리될 수도 있습니다.  
대표적인 번들러로 웹팩, Parcel, browserify라는 도구들이 있습니다. 웹팩을 사용하면 SVG 파일과 CSS 파일도 불러와서 사용할 수 있습니다.  

**JSX**  
JSX는 자바스크립트 확장 문법이며 XML과 매우 비슷하게 생겼습니다. 이런 형식으로 작성한 코드는 브라우저에서 실행되기 전에 코드가 번들링되는 과정에서 바벨을 사용하여 일반 자바스크립트 형태의 코드로 변환됩니다.  
JSX는 편리한 문법이지만, 올바르게 사용하려면 몇 가지 규칙을 준수해야 합니다.  
- 컴포넌트에 여러 요소가 있다면 반드시 부모 요소 하나로 감싸야 합니다.  
- 자바스크립트 표현식을 작성하려면 JSX 내부에서 코드를 { }로 감싸면 됩니다.  
- JSX 내부의 자바스크립트 표현식에서 if 문을 사용할 수 없어서 JSX 밖에서 if 문을 사용하거나 { } 안에 조건부 연산자를 사용하면 됩니다.
- && 연산자를 사용해서 조건부 렌더링을 할 수 있습니다. 단, falsy한 값인 0은 예외적으로 화면에 나타납니다. 
- 리액트 컴포넌트에서는 함수에서 undefined만 반환하여 렌더링하는 상황을 만들면 안 됩니다. 반면 JSX 내부에서 undefined를 렌더링하는 것은 괜찮습니다.  
- DOM 요소에 스타일을 적용할 때는 객체 형태로 넣어 주어야 하고 카멜 표기법으로 작성해야 합니다.  
- JSX에서는 class가 아닌 className으로 설정해 주어야 합니다.  
- JSX에서는 태그를 닫지 않으면 오류가 발생합니다.  
- JSX 내부에서 주석을 작성할 때는 {/\* ⋯ \*/}와 같은 형식으로 작성합니다.
